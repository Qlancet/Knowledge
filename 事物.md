# 

### 共享锁和排它锁

​	共享锁(lock in share mode): select * from test where id=1 lock in share mode;

​	**允许其他事务增加共享锁读取，不允许其他事务增加排他锁，当事务同时增加共享锁时候，事务的更新必须等  待先执行的事务commit后才行，如果同时并发太大可能很容易造成死锁**

​	排它锁(for update)：select * from test where id = 1 for update;

**只有当前的事务可以读取数据，其他的事务不能读取也不能执行更新的操作，结果是超时或者等待第一个事务提交后再执行**

### mysql锁

![1615517015399](事物.assets/1615517015399.png)